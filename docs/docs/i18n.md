# Translations

The UI uses a simple JSON file format to handle translations. The JSON format is
described by the [Transifex JSON
format](https://docs.transifex.com/formats/json) documentation page.

The source code repository must have the messages source strings already
localized  in English (US) and saved according the above JSON format in
`ui/<somedir>/language.json`.

**Translators** have to access
[Transifex](https://www.transifex.com/nethserver/nethserver/dashboard/) to
localize the messages.

**Developers** have to follow the workflow described by the next section.

## Developer workflow

### Prerequisites

* create a personal Transifex account associated to the `nethserver` organization
* install the [Transifex Client](https://docs.transifex.com/client/introduction) (command `tx`)
* ensure the repository root dir has a `.tx/config` file

For instance, for the "MyApp" application `.tx/config` must have something like:

```text
[nethserver.CockpitMyApp]
source_file = ui/public/i18n/language.json
source_lang = en
type = KEYVALUEJSON
```

Note the **mandatory** `nethserver.Cockpit*` prefix for the strings catalog
"slug" name.

### Simple workflow

1. When a new string in source code has to be translated, add it to the `language.json` file,

2. Commit changes to git

3. When the changes are ready for the release send the strings to Transifex for
   the translation by running `tx push -s` in the repository root directory

## Translations packages

The localized strings are periodically downloaded from Transifex and added to
the [nethserver-lang repository](https://github.com/nethserver/nethserver-lang).
They are packed in separate RPMs at a later time.

## Translations API

See the "UI guidelines" section.
